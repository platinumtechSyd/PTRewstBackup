{"version":2,"exportedAt":"2024-08-13T00:21:31.986247+00:00","signing":{"cert":"-----BEGIN CERTIFICATE-----\nMIICazCCAfGgAwIBAgIUFJtHAR8D+ZfChHcAXHemH7s8zRowCgYIKoZIzj0EAwIwfDELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkZMMQ4wDAYDVQQHEwVUYW1wYTEOMAwGA1UEChMFUmV3c3QxEzARBgNVBAsTClJld3N0IERldnMxKzApBgNVBAMTImxvY2FsIFJld3N0IEltcG9ydC9FeHBvcnQgQ0EyIHYxLjEwHhcNMjIwNjAzMTkwMDU1WhcNMjUwNTIzMTkwMTI1WjBDMQswCQYDVQQGEwJVUzELMAkGA1UECBMCRkwxDjAMBgNVBAcTBVRhbXBhMRcwFQYDVQQDEw5sb2NhbC5yZXdzdC5pbzB2MBAGByqGSM49AgEGBSuBBAAiA2IABMcTJzyLIvX1+3545EJbFeNVjahxVq6TFQ7n/IYZs4yEMQzDWZjAyHhJPZk3Dxq/wFzesXMYJu41rhxfz7AZh15LtFGfy9V2B4X5KH7sGJWqOan0mabuF83llruTLA/NQaNtMGswDgYDVR0PAQH/BAQDAgeAMB0GA1UdDgQWBBTDePOSC6hckrg6usrK2giZv9GxpjAfBgNVHSMEGDAWgBTojdemsJqfnB19iyMxmIi3OGYw6TAZBgNVHREEEjAQgg5sb2NhbC5yZXdzdC5pbzAKBggqhkjOPQQDAgNoADBlAjEA8NsLnuGhfTPC7dB0ojWf5WmH64qFZuPFD6Q0RwGYO0D1Tn2x5+/37kW3HFcGHV0wAjBM7LSidsc7E9+fmcesnN5hM34eGMP+YWCoEeFIPPANXQKemAgUVf35iXyU64sVEC4=\n-----END CERTIFICATE-----","hash":"sha512","signature":"MGUCMQDFERXDnmldOTjfeYRPWFyeAiagRc5HIC5s1WsCc+8HBiTBLEK6oJy1Pc3B1TpjnGgCMGrBBtpxo7+6WsB1QNy4KpnyPMTDISNOb1skrToEJs6I8vPob1RaLKXqzRiMDim3Gw=="},"objects":{"workflow_task_id:GWe77z3uf5pAhfxEj3H7rZjtbz28UkC62nShhMzMzegQ":{"type":"workflow_task_id","content_hash":"AE9KqZRM9waxZMnoLT54EigVvvGVJKJaCbhS4yEudGTV","hash":"6bL2CnRUdP2wFpvx5mKVQJmVCLZRDFBgGDVQ9npbQNvG","fields":{"id":"01911ff7efed799fa0d7d0a2f7496df2"}},"action:9V9NVdQ2YPuu8TFAZTMbuKhXiVyYpGx85soy1rc96H3w":{"type":"action","content_hash":"FMu3hsNV7SdbaFHCpQXe4YsxtfRZHq3LfQ8Ej6uv322w","hash":"CDXNu8XJkn4bBRzcx18z5UYnjXiUM2WB6hTMAwGhMQ4K","fields":{"ref":"core.http_request"}},"transition_id:A6MQ1cawgCXtL1BwWHJyk8MPPQuzbZMYGJSh32whQQ9a":{"type":"transition_id","content_hash":"7J8mAuaXqLo7F9qxZYMKhJTyrfrptGAgX2Jt1ZTevVxX","hash":"CRGJNas7PukqXURRE4jtv41mDF7gx8RjG3fQYgxJ9m7G","fields":{"id":"16f1cada-a468-415a-bd7e-513384f2f134"}},"action:8sk1yufbtiuc169vvFLkoe1neC8PXP823Yv3duBq2Gtf":{"type":"action","content_hash":"CdPL6KHuhM7mBvTHi4QnQbxCitnoxuRrq1BfHNnQYzKB","hash":"Arr2RCEM96WqU2EkvigszSfsW9GZHa4HJC5a1fL9qZ5g","fields":{"ref":"core.noop"}},"transition_id:8bcj8T3poQNf3SPj1Fv7iTNaz7xbR6gnAJsbJjTgJMW7":{"type":"transition_id","content_hash":"2vfQqpPtWpxYrbfGMcbqSMTMNFiKKHA7eAcUA9oid6gG","hash":"8eEFBjmiM1ouB2KfvqtH9hqV4TVofoDNCm94VZky5L8C","fields":{"id":"c33b7f6e-8618-4cde-830b-944a4c78f42a"}},"action:5B6J8k5HemoUrYZLuAHi9y4evnAJe6LVdWSSi6S1HBWD":{"type":"action","content_hash":"23N3ubJaPa6X5iBRydHACFjBkPCx3ojoiFwyDcNZB5a1","hash":"AchMyaNUwhPjK8j3wVV34tZM4hrNovi1XH4z1MkHzuFP","fields":{"ref":"microsoft_graph.graph_api_request"}},"trigger_type:7RR9PZyja8v2EEpnudMKP2CKDxLL7cvXULGWunnYu6BC":{"type":"trigger_type","content_hash":"A3qAuVRaMet6hmXzfULwNsktw3jhyuRkt8E9LAbJCP7i","hash":"BgxjTDSUcb1fzGABhpZD1tnJecbPFAVmpUa9d2SUPepJ","fields":{"ref":"core.Always Pass"}},"transition_id:FHY7DFF9QZ21AfTKTygxewkoooZTgYyzN8K8UzgPLX31":{"type":"transition_id","content_hash":"41TgU89FrzJCz84rr21GZ65nM5pk7QMQzKAmTsUYqxBY","hash":"76auq1eTM1zid1p65AZKSzBjwMVBuVma4WfHStTZqiSy","fields":{"id":"01911ff7-efed-799f-a0d7-d0a4ab6a509b"}},"transition_id:9SgPwwoPZyVsqks7f42X5rczaNV3UuNkmD3NNtYGWaEh":{"type":"transition_id","content_hash":"AVgWC59nWDm71tME5zD3BjxoqG5Wfv5twVb11no4DzdX","hash":"AGRuHQqUPDs9msKsPfw1dYbUqAWXLwiMoxtxohDNveTb","fields":{"id":"01911ff7-efed-799f-a0d7-d0a6efd946d8"}},"workflow_task_id:97izntqRiaimEntcSgy4vxmh6JkJ98VNjXZcb43n38PJ":{"type":"workflow_task_id","content_hash":"B94HwHETpR6j2wLT1L7qkUdXt68gaQ46iybCRi57bwoR","hash":"GvcNg8qfP5KZSMGKigjvrsghUS9jvkiXTguZmUmESV17","fields":{"id":"f2e87ad1e16f49be9021766c854aed05"}},"workflow_task_id:FWd8PNiMnrn1FBVt8G6RoxVnfw1n57x2uMz9x6FsZEuL":{"type":"workflow_task_id","content_hash":"AM8xM637wy1Rn4E5uV1KMgqPeCUcBCVgndo4WX3EJ8h6","hash":"5u5D76DDtN9M7wV2pm9vpvxghJ2wHKZD1uoUahQhkfyq","fields":{"id":"949790ff05684644af5c4f646a189420"}},"workflow_task_id:D9CK1NZmrZFb21WCxuWGbJ81kni6x5Z7CWqjJ1L7XwdG":{"type":"workflow_task_id","content_hash":"95vrh7S1uVouFdyEKHA7SwQMTYMWF4JzWeCmWDQLSgFE","hash":"FgwzKXXzhxg9cmZU6knFZkCCU8oWKdhNk3VZv7dwtfoV","fields":{"id":"01911ff7efec7036b57df62602fca0f5"}},"workflow:CQhddccE9CrjeaJAY8ygRzbYKmtVKEa5GYyMVQizn9a4":{"type":"workflow","content_hash":"43ty8L99EGcWxEg2g9CzHgoxLxM3mhuq1N9rJVGkTKZa","hash":"4VaSxiKMp4qK5Ysgvmo9yK5Wyvp517Yvx1F9ftWDTrtn","fields":{"humanSecondsSaved":0,"notes":[],"output":[{"options":"{{ CTX.Countries }}"}],"parameters":{"cageoblockpolicy":{"type":"string","required":false,"multiline":false}},"tasks":[{"id":"@@@workflow_task_id_ref1@@@","action":{"id":"@@@action_ref1@@@"},"humanSecondsSaved":0,"input":{},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"Start","next":[{"do":["@@@workflow_task_id_ref4@@@"],"from":null,"id":"@@@transition_id_ref1@@@","publish":[],"to":null,"when":"{{ SUCCEEDED }}"}],"packOverrides":[],"publishResultAs":"","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":null},{"id":"@@@workflow_task_id_ref2@@@","action":{"id":"@@@action_ref2@@@"},"humanSecondsSaved":0,"input":{"url":"https://restcountries.com/v3.1/all","body":null,"json":null,"files":[],"method":"GET","params":null,"cookies":null,"headers":null,"timeout":5,"auth_password":null,"auth_username":null,"allow_redirects":true,"require_2xx_status":true},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"core_http_request","next":[{"do":[],"from":null,"id":"@@@transition_id_ref2@@@","publish":[{"key":"Countries","value":"{#- {{ [ { \"name\" : country.name.common, \"code\" : country.cca2 } for country in RESULT.result.data ] | sort(attribute='name') }} -#}\r\n{% set country_code_map = {country['cca2']: country['name']['common'] for country in RESULT.result.data} %}\r\n{% set filtered_countries = [ { \"name\": country_code_map[code], \"code\": code } for code in CTX.countriesAndRegions if code in country_code_map ] %}\r\n{{ filtered_countries | sort(attribute='name') }}"}],"to":null,"when":"{{ SUCCEEDED }}"}],"packOverrides":[],"publishResultAs":"","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":null},{"id":"@@@workflow_task_id_ref3@@@","action":{"id":"@@@action_ref3@@@"},"humanSecondsSaved":0,"input":{"json":null,"params":null,"headers":null,"base_url":"https://graph.microsoft.com/v1.0","endpoint":"/identity/conditionalAccess/namedLocations/{{ item() }}","raw_body":null,"client_kwargs":{"use_delegated_admin":false},"request_method":"GET","raw_body_from_url":null,"require_2xx_status":null},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"getlocations","next":[{"do":["@@@workflow_task_id_ref2@@@"],"from":null,"id":"@@@transition_id_ref3@@@","publish":[{"key":"countriesAndRegions","value":"{{ RESULT[0]['result']['result']['data']['value']['countriesAndRegions'] }}\r\n"}],"to":null,"when":"{{ SUCCEEDED }}"}],"packOverrides":[],"publishResultAs":"NamedLocationResults","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":{"items":"{{ CTX.excludednamedlocationid }}","concurrency":"1"}},{"id":"@@@workflow_task_id_ref4@@@","action":{"id":"@@@action_ref3@@@"},"humanSecondsSaved":0,"input":{"json":null,"params":null,"headers":null,"base_url":"https://graph.microsoft.com/v1.0","endpoint":"/identity/conditionalAccess/policies/{{ CTX.cageoblockpolicy }}","raw_body":null,"client_kwargs":{"use_delegated_admin":false},"request_method":"GET","raw_body_from_url":null,"require_2xx_status":null},"isMocked":false,"join":0,"mockInput":{"mock_result":{}},"name":"getpolicydetails","next":[{"do":["@@@workflow_task_id_ref3@@@"],"from":null,"id":"@@@transition_id_ref4@@@","publish":[{"key":"excludednamedlocationid","value":"{{ CTX.CAPolicies.data.value.conditions.locations.excludeLocations | flatten }}"},{"key":"includednamedlocationid","value":"{{ CTX.CAPolicies.data.value.conditions.locations.includeLocations | flatten }}"}],"to":null,"when":"{{ SUCCEEDED }}"}],"packOverrides":[],"publishResultAs":"CAPolicies","retry":null,"runAsOrgId":"","timeout":600,"transitionMode":"FOLLOW_ALL","with":null}],"timeout":28800,"type":"OPTION_GENERATOR","varsSchema":{}},"nonfunctional_fields":{"description":"","name":"Location Lookup","parameters.cageoblockpolicy.description":"","parameters.cageoblockpolicy.label":"","tasks[0].description":"Action that does nothing","tasks[0].metadata":{"x":-239.02656015214126,"y":-420.2690597620368},"tasks[0].next[0].label":"","tasks[1].description":"Perform an HTTP request","tasks[1].metadata":{"x":-238.951428672051,"y":0.24634291636829175},"tasks[1].next[0].label":"","tasks[2].description":"Send a request to any Microsoft Graph endpoint","tasks[2].metadata":{"x":-239.65665621157842,"y":-142.65752009618353},"tasks[2].next[0].label":"","tasks[3].description":"Send a request to any Microsoft Graph endpoint","tasks[3].metadata":{"x":-239.03216330801672,"y":-287.37010025644656},"tasks[3].next[0].label":""},"references":{"workflow_task_id_ref4":{"kind":"string","type":"workflow_task_id","src_key_hash":"D9CK1NZmrZFb21WCxuWGbJ81kni6x5Z7CWqjJ1L7XwdG","content_hash":"95vrh7S1uVouFdyEKHA7SwQMTYMWF4JzWeCmWDQLSgFE","locations":["tasks[3].id","tasks[0].next[0].do[0]"]},"action_ref1":{"kind":"string","type":"action","src_key_hash":"8sk1yufbtiuc169vvFLkoe1neC8PXP823Yv3duBq2Gtf","content_hash":"CdPL6KHuhM7mBvTHi4QnQbxCitnoxuRrq1BfHNnQYzKB","locations":["tasks[0].action.id"]},"workflow_task_id_ref3":{"kind":"string","type":"workflow_task_id","src_key_hash":"GWe77z3uf5pAhfxEj3H7rZjtbz28UkC62nShhMzMzegQ","content_hash":"AE9KqZRM9waxZMnoLT54EigVvvGVJKJaCbhS4yEudGTV","locations":["tasks[2].id","tasks[3].next[0].do[0]"]},"workflow_task_id_ref1":{"kind":"string","type":"workflow_task_id","src_key_hash":"97izntqRiaimEntcSgy4vxmh6JkJ98VNjXZcb43n38PJ","content_hash":"B94HwHETpR6j2wLT1L7qkUdXt68gaQ46iybCRi57bwoR","locations":["tasks[0].id"]},"action_ref3":{"kind":"string","type":"action","src_key_hash":"5B6J8k5HemoUrYZLuAHi9y4evnAJe6LVdWSSi6S1HBWD","content_hash":"23N3ubJaPa6X5iBRydHACFjBkPCx3ojoiFwyDcNZB5a1","locations":["tasks[2].action.id","tasks[3].action.id"]},"transition_id_ref2":{"kind":"string","type":"transition_id","src_key_hash":"8bcj8T3poQNf3SPj1Fv7iTNaz7xbR6gnAJsbJjTgJMW7","content_hash":"2vfQqpPtWpxYrbfGMcbqSMTMNFiKKHA7eAcUA9oid6gG","locations":["tasks[1].next[0].id"]},"workflow_task_id_ref2":{"kind":"string","type":"workflow_task_id","src_key_hash":"FWd8PNiMnrn1FBVt8G6RoxVnfw1n57x2uMz9x6FsZEuL","content_hash":"AM8xM637wy1Rn4E5uV1KMgqPeCUcBCVgndo4WX3EJ8h6","locations":["tasks[1].id","tasks[2].next[0].do[0]"]},"transition_id_ref4":{"kind":"string","type":"transition_id","src_key_hash":"FHY7DFF9QZ21AfTKTygxewkoooZTgYyzN8K8UzgPLX31","content_hash":"41TgU89FrzJCz84rr21GZ65nM5pk7QMQzKAmTsUYqxBY","locations":["tasks[3].next[0].id"]},"action_ref2":{"kind":"string","type":"action","src_key_hash":"9V9NVdQ2YPuu8TFAZTMbuKhXiVyYpGx85soy1rc96H3w","content_hash":"FMu3hsNV7SdbaFHCpQXe4YsxtfRZHq3LfQ8Ej6uv322w","locations":["tasks[1].action.id"]},"transition_id_ref3":{"kind":"string","type":"transition_id","src_key_hash":"9SgPwwoPZyVsqks7f42X5rczaNV3UuNkmD3NNtYGWaEh","content_hash":"AVgWC59nWDm71tME5zD3BjxoqG5Wfv5twVb11no4DzdX","locations":["tasks[2].next[0].id"]},"transition_id_ref1":{"kind":"string","type":"transition_id","src_key_hash":"A6MQ1cawgCXtL1BwWHJyk8MPPQuzbZMYGJSh32whQQ9a","content_hash":"7J8mAuaXqLo7F9qxZYMKhJTyrfrptGAgX2Jt1ZTevVxX","locations":["tasks[0].next[0].id"]}},"dependencies":["workflow_task_id:GWe77z3uf5pAhfxEj3H7rZjtbz28UkC62nShhMzMzegQ","action:9V9NVdQ2YPuu8TFAZTMbuKhXiVyYpGx85soy1rc96H3w","transition_id:A6MQ1cawgCXtL1BwWHJyk8MPPQuzbZMYGJSh32whQQ9a","action:8sk1yufbtiuc169vvFLkoe1neC8PXP823Yv3duBq2Gtf","transition_id:8bcj8T3poQNf3SPj1Fv7iTNaz7xbR6gnAJsbJjTgJMW7","action:5B6J8k5HemoUrYZLuAHi9y4evnAJe6LVdWSSi6S1HBWD","transition_id:FHY7DFF9QZ21AfTKTygxewkoooZTgYyzN8K8UzgPLX31","transition_id:9SgPwwoPZyVsqks7f42X5rczaNV3UuNkmD3NNtYGWaEh","workflow_task_id:97izntqRiaimEntcSgy4vxmh6JkJ98VNjXZcb43n38PJ","workflow_task_id:FWd8PNiMnrn1FBVt8G6RoxVnfw1n57x2uMz9x6FsZEuL","workflow_task_id:D9CK1NZmrZFb21WCxuWGbJ81kni6x5Z7CWqjJ1L7XwdG"]},"trigger:8cVFHBXtK5W1HyJJH67Em5LEmgTbjHUQcSnq1WXqWkwp":{"type":"trigger","content_hash":"DxE32rYuTpxesnzo3y8RQDaMhjHNQdY3U9PWgWZb6qvY","hash":"3LFffXgyjn11md8MQu1yA7d6BTVhoSBEBh6Pih5tXkpG","fields":{"autoActivateManagedOrgs":true,"criteria":{"condition":{}},"enabled":true,"formId":null,"isActivatedForOwner":true,"packOverrides":[],"parameters":{},"triggerTypeId":"@@@trigger_type_ref1@@@","vars":[],"workflowId":"@@@workflow_ref1@@@"},"nonfunctional_fields":{"description":null,"name":"ListLookup"},"references":{"trigger_type_ref1":{"kind":"string","type":"trigger_type","src_key_hash":"7RR9PZyja8v2EEpnudMKP2CKDxLL7cvXULGWunnYu6BC","content_hash":"A3qAuVRaMet6hmXzfULwNsktw3jhyuRkt8E9LAbJCP7i","locations":["triggerTypeId"]},"workflow_ref1":{"kind":"string","type":"workflow","src_key_hash":"CQhddccE9CrjeaJAY8ygRzbYKmtVKEa5GYyMVQizn9a4","content_hash":"43ty8L99EGcWxEg2g9CzHgoxLxM3mhuq1N9rJVGkTKZa","locations":["workflowId"]}},"dependencies":["workflow:CQhddccE9CrjeaJAY8ygRzbYKmtVKEa5GYyMVQizn9a4","trigger_type:7RR9PZyja8v2EEpnudMKP2CKDxLL7cvXULGWunnYu6BC"]}},"__typename":"ExportBundle"}